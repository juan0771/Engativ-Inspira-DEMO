<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engativá Inspira - Marketplace Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg-principal: #18191a;
            --bg-secundario: #242526;
            --bg-hover: #3a3b3c;
            --texto-principal: #e4e6eb;
            --texto-secundario: #b0b3b8;
            --azul-fb: #2d88ff;
            --verde-wa: #25D366;
            --skeleton: #4e4f50;
        }

        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg-principal); color: var(--texto-principal); margin: 0; display: flex; }

        /* --- SIDEBAR --- */
        .sidebar { width: 280px; height: 100vh; background-color: var(--bg-principal); padding: 20px; position: fixed; border-right: 1px solid #333; }
        .search-box { background-color: var(--bg-hover); border-radius: 20px; padding: 10px 15px; display: flex; align-items: center; }
        .search-box input { background: none; border: none; color: white; margin-left: 10px; outline: none; width: 100%; }

        /* --- GRID Y CONTENIDO --- */
        .main-content { margin-left: 300px; padding: 20px; width: calc(100% - 340px); }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 16px; }

        /* --- EFECTO SKELETON (CARGA) --- */
        .skeleton {
            background-color: var(--skeleton);
            background-image: linear-gradient(90deg, var(--skeleton) 0px, #606162 40px, var(--skeleton) 80px);
            background-size: 600px;
            animation: shine-skeleton 1.6s infinite linear;
            border-radius: 8px;
        }

        @keyframes shine-skeleton {
            0% { background-position: -100px; }
            100% { background-position: 500px; }
        }

        .skeleton-card { height: 350px; width: 100%; }

        /* --- TARJETAS REALES --- */
        .product-card { background-color: var(--bg-secundario); border-radius: 8px; overflow: hidden; cursor: pointer; display: none; }
        .img-container { width: 100%; padding-top: 100%; position: relative; }
        .img-container img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        .product-info { padding: 12px; }
        .price { font-size: 18px; font-weight: bold; }
        .title { font-size: 15px; margin: 5px 0; }

        /* --- MENSAJE NO ENCONTRADO --- */
        #mensaje-vacio { display: none; text-align: center; padding: 50px; color: var(--texto-secundario); font-size: 1.2rem; }
        #mensaje-vacio i { font-size: 3rem; margin-bottom: 10px; display: block; }

        /* --- MODAL --- */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); }
        .modal-content { background: var(--bg-secundario); margin: 5% auto; width: 90%; max-width: 800px; border-radius: 12px; display: flex; position: relative; overflow: hidden; }
        .modal-left { flex: 1.2; } .modal-left img { width: 100%; height: 100%; object-fit: cover; }
        .modal-right { flex: 1; padding: 30px; }
        .close-modal { position: absolute; right: 20px; top: 10px; font-size: 30px; cursor: pointer; color: white; }
    </style>
</head>
<body>

    <nav class="sidebar">
        <h2>Engativá Inspira</h2>
        <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="inputBuscador" placeholder="Buscar productos locales...">
        </div>
    </nav>

    <main class="main-content">
        <h3>Resultados para ti</h3>
        
        <div id="skeleton-container" class="product-grid">
            <div class="skeleton skeleton-card"></div>
            <div class="skeleton skeleton-card"></div>
            <div class="skeleton skeleton-card"></div>
        </div>

        <div class="product-grid" id="gridProductos">
            <div class="product-card" data-nombre="reloj inteligente sport" onclick="abrirModal(1)">
                <div class="img-container"><img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=500"></div>
                <div class="product-info"><span class="price">$ 120.000</span><p class="title">Reloj Inteligente Sport</p></div>
            </div>
            <div class="product-card" data-nombre="zapatillas red nike" onclick="abrirModal(2)">
                <div class="img-container"><img src="https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=500"></div>
                <div class="product-info"><span class="price">$ 180.000</span><p class="title">Zapatillas Red Nike</p></div>
            </div>
            <div class="product-card" data-nombre="audifonos bluetooth gold" onclick="abrirModal(3)">
                <div class="img-container"><img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500"></div>
                <div class="product-info"><span class="price">$ 95.000</span><p class="title">Audífonos Bluetooth Gold</p></div>
            </div>
        </div>

        <div id="mensaje-vacio">
            <i class="fas fa-search-minus"></i>
            <p>Producto no Existente</p>
            <small>Intenta con otra palabra clave de Engativá.</small>
        </div>
    </main>

    <div id="miModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="cerrarModal()">&times;</span>
            <div class="modal-left"><img id="imgModal" src=""></div>
            <div class="modal-right">
                <h2 id="tituloModal"></h2>
                <p id="precioModal" style="font-size: 24px; color: var(--azul-fb); font-weight: bold;"></p>
                <div style="background: var(--bg-hover); padding: 10px; border-radius: 8px; margin: 20px 0;">
                    <h4 id="vendedorNombre" style="margin:0"></h4>
                    <small style="color:var(--azul-fb)">Emprendedor verificado</small>
                </div>
                <button onclick="window.location.href='perfil.html'" style="width: 100%; background: var(--verde-wa); border: none; padding: 12px; color: white; border-radius: 8px; font-weight: bold; cursor: pointer;">Contactar por WhatsApp</button>
            </div>
        </div>
    </div>

    <script>
        // SIMULACIÓN DE CARGA (Para ver el efecto Skeleton)
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('skeleton-container').style.display = 'none';
                document.querySelectorAll('.product-card').forEach(card => card.style.display = 'block');
            }, 2000); // Se oculta tras 2 segundos
        });

        // LÓGICA DE BÚSQUEDA CON VALIDACIÓN DE "VACÍO"
        const buscador = document.getElementById('inputBuscador');
        const cards = document.querySelectorAll('.product-card');
        const mensajeVacio = document.getElementById('mensaje-vacio');

        buscador.addEventListener('keyup', () => {
            const query = buscador.value.toLowerCase();
            let encontrados = 0;

            cards.forEach(card => {
                const nombre = card.getAttribute('data-nombre');
                if (nombre.includes(query)) {
                    card.style.display = 'block';
                    encontrados++;
                } else {
                    card.style.display = 'none';
                }
            });

            // Si no hay resultados, mostramos el mensaje
            mensajeVacio.style.display = (encontrados === 0) ? 'block' : 'none';
        });

        // DATOS Y MODAL
        const datos = {
            1: { t: "Reloj Inteligente Sport", p: "$ 120.000", i: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800", v: "Tecno Engativá" },
            2: { t: "Zapatillas Red Nike", p: "$ 180.000", i: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=800", v: "Juan Shoes" },
            3: { t: "Audífonos Bluetooth Gold", p: "$ 95.000", i: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800", v: "Audio Express" }
        };

        function abrirModal(id) {
            const p = datos[id];
            document.getElementById('imgModal').src = p.i;
            document.getElementById('tituloModal').innerText = p.t;
            document.getElementById('precioModal').innerText = p.p;
            document.getElementById('vendedorNombre').innerText = p.v;
            document.getElementById('miModal').style.display = "block";
        }

        function cerrarModal() { document.getElementById('miModal').style.display = "none"; }
    </script>
</body>
</html>